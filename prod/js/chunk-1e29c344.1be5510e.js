(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e29c344"],{"2d60":function(e,t,c){"use strict";c("e157")},3745:function(e,t,c){},"99af":function(e,t,c){"use strict";var n=c("23e7"),o=c("da84"),r=c("d039"),a=c("e8b5"),i=c("861d"),l=c("7b0b"),u=c("07fa"),d=c("8418"),s=c("65f0"),b=c("1dde"),j=c("b622"),O=c("2d00"),f=j("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",k=o.TypeError,v=O>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=b("concat"),y=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)},g=!v||!h;n({target:"Array",proto:!0,forced:g},{concat:function(e){var t,c,n,o,r,a=l(this),i=s(a,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?a:arguments[t],y(r)){if(o=u(r),b+o>p)throw k(m);for(c=0;c<o;c++,b++)c in r&&d(i,b,r[c])}else{if(b>=p)throw k(m);d(i,b++,r)}return i.length=b,i}})},"9ba6":function(e,t,c){"use strict";c("3745")},a4aa:function(e,t,c){"use strict";c.r(t);c("d3b7");var n=c("7a23"),o=c("74b4"),r=c("0717"),a=c("5502"),i=function(e){return Object(n["pushScopeId"])("data-v-bd57fe64"),e=e(),Object(n["popScopeId"])(),e},l=i((function(){return Object(n["createElementVNode"])("div",null,"搜索历史",-1)})),u={class:"history"},d=Object(n["createTextVNode"])("热搜榜"),s=["onClick"],b={class:"content"},j={class:"title"},O={class:"label"},f={setup:function(e){var t=Object(a["b"])(),c=Object(n["ref"])([]),i=Object(n["computed"])((function(){return t.state.songDetail.keywordList}));Object(n["onMounted"])((function(){Object(o["a"])().then((function(e){c.value=null===e||void 0===e?void 0:e.data.data}))}));var f=function(e){r["a"].emit("hotSearch",e)},p=function(e){t.commit("removeKeyword",e)};return function(e,t){var o=Object(n["resolveComponent"])("el-tag"),r=Object(n["resolveComponent"])("el-divider");return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",null,[Object(n["createElementVNode"])("header",null,[l,Object(n["createElementVNode"])("div",u,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(i),(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:t,type:"info",size:"mini",closable:"",class:"tags",onClose:function(e){return p(t)},onClick:function(t){return f(e)}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["onClose","onClick"])})),128))])]),Object(n["createVNode"])(r,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[d]})),_:1}),Object(n["createElementVNode"])("main",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.value,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",{key:t,class:"hotSearch",onClick:function(t){return f(e.searchWord)}},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["index",{active:t<3}])},Object(n["toDisplayString"])(t+1),3),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",j,Object(n["toDisplayString"])(e.searchWord),1),Object(n["createElementVNode"])("div",O,Object(n["toDisplayString"])(e.content),1)])],8,s)})),128))])])}}},p=(c("2d60"),c("6b0d")),m=c.n(p);const k=m()(f,[["__scopeId","data-v-bd57fe64"]]);var v=k,h=(c("99af"),c("b0c0"),c("6c02")),y=c("a5e1"),g=c("0250"),B=function(e){return Object(n["pushScopeId"])("data-v-17d413f3"),e=e(),Object(n["popScopeId"])(),e},E=Object(n["createTextVNode"])("搜 "),w=Object(n["createTextVNode"])(" 相关的结果： "),N=B((function(){return Object(n["createElementVNode"])("br",null,null,-1)})),S={key:0},V={class:"nav title"},C={class:"svg","aria-hidden":"true"},x=["xlink:href"],D=["onClick"],T={key:1,class:"none"},I={props:{keyword:{type:String},searchData:{type:Object}},setup:function(e){var t=Object(h["d"])(),c=Object(a["b"])(),o=function(e){var n=e.id,o=e.type;switch(o){case 0:r["a"].emit("hotSearch",n);break;case 1:c.commit("setSingerId",n),t.push("/detail/singer");break;case 2:Object(g["a"])(n).then((function(e){c.commit("setSongList",Object(y["a"])(e.data.album)),c.commit("setSongMusic",e.data.songs),t.push("/detail/song")}));break;case 3:c.dispatch("getSongList",n),t.push("/detail/song");break}},i=[{title:"单曲",icon:"#icon-yinle",order:"songs",formatter:function(e){return"".concat(e.name," - ").concat(e.artists[0].name)},click:function(e){o({id:e.name,type:0})}},{title:"歌手",icon:"#icon-user",order:"artists",formatter:function(e){return"".concat(e.name)},click:function(e){o({id:e.id,type:1})}},{title:"专辑",icon:"#icon-zhuanjiguangpan",order:"albums",formatter:function(e){return"".concat(e.name," - ").concat(e.artist.name)},click:function(e){o({id:e.id,type:2})}},{title:"歌单",icon:"#icon-gedan",order:"playlists",formatter:function(e){return"".concat(e.name)},click:function(e){o({id:e.id,type:3})}}];return function(t,c){var o,r=Object(n["resolveComponent"])("el-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("header",null,[E,Object(n["createVNode"])(r,{type:"primary"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])('"'+Object(n["toDisplayString"])(e.keyword)+'"',1)]})),_:1}),w]),N,null!==(o=e.searchData.songs)&&void 0!==o&&o.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("main",S,[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i,(function(t){return Object(n["createElementVNode"])("div",{key:t.order},[Object(n["createElementVNode"])("nav",V,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.title)+" ",1),(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",C,[Object(n["createElementVNode"])("use",{"xlink:href":t.icon},null,8,x)]))]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.searchData[t.order],(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",{key:e.id,class:"nav",onClick:function(c){return t.click(e)}},Object(n["toDisplayString"])(t.formatter(e)),9,D)})),128))])})),64))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",T," 暂无数据 "))],64)}}};c("9ba6");const L=m()(I,[["__scopeId","data-v-17d413f3"]]);var _=L,F={props:{keyword:{type:String}},setup:function(e){var t,c=e,r=Object(n["ref"])(0),a=[v,_],i=Object(n["ref"])(!1),l=Object(n["ref"])({});return Object(n["watch"])((function(){return c.keyword}),(function(e){e?(t&&clearTimeout(t),i.value=!0,t=setTimeout((function(){""!==e&&e.length>1&&Object(o["c"])(e).then((function(e){l.value=e.data.result})).finally((function(){r.value=1,i.value=!1}))}),500)):r.value=0})),function(t,c){var o=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])(n["KeepAlive"],null,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(a[r.value]),{keyword:e.keyword,"search-data":l.value},null,8,["keyword","search-data"])),[[o,i.value]])],1024)}}};const z=F;t["default"]=z},e157:function(e,t,c){}}]);